[{"path":"http://www.stevenmsmith.org/rxref/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Steven Smith Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://www.stevenmsmith.org/rxref/articles/case_study_glp1ra.html","id":"case","dir":"Articles","previous_headings":"","what":"Case","title":"Case Study: GLP1 receptor agonists","text":"Suppose need identify glucagon-like peptide-1 receptor agonist (GLP1-RA) users either EHR prescribing data, pharmacy claims data (). accomplish , need complete list RxCUIs corresponding NDCs (available).","code":""},{"path":"http://www.stevenmsmith.org/rxref/articles/case_study_glp1ra.html","id":"the-set-up","dir":"Articles","previous_headings":"","what":"The Set-up","title":"Case Study: GLP1 receptor agonists","text":"First, need clarify set drugs considered part GLP1-RA class. quick google search give us list GLP1-RA agents currently approved use: exenatide liraglutide lixisenatide dulaglutide albiglutide semaglutide tirzepatide","code":""},{"path":"http://www.stevenmsmith.org/rxref/articles/case_study_glp1ra.html","id":"identifying-ingredient-rxcuis","dir":"Articles","previous_headings":"","what":"Identifying Ingredient RxCUIs","title":"Case Study: GLP1 receptor agonists","text":"Let’s turn character vector use find_ingredients() gather RxCUIs TTY = ‘’ (note: can get complete list TTYs description tty_catalogue()).","code":"# remotes::install_github(\"ssmithm/rxref\") library(rxref) glp1.names <- c(\"semaglutide\", \"exenatide\", \"liraglutide\", \"lixisenatide\", \"dulaglutide\", \"albiglutide\", \"tirzepatide\")  if (run_live) {   # run this next line only, if recreating on your own   glp1.ings <- find_ingredients(glp1.names) } else {   glp1.ings <- readRDS(system.file(\"extdata\", \"glp1_ings.rds\", package = \"rxref\")) }  glp1.ings #> # A tibble: 7 × 5 #>   input        rxcui   name         tty   score #>   <chr>        <chr>   <chr>        <chr> <dbl> #> 1 semaglutide  1991302 semaglutide  IN     12.9 #> 2 exenatide    60548   exenatide    IN     13.5 #> 3 liraglutide  475968  liraglutide  IN     13.5 #> 4 lixisenatide 1440051 lixisenatide IN     13.8 #> 5 dulaglutide  1551291 dulaglutide  IN     13.6 #> 6 albiglutide  1534763 albiglutide  IN     14.0 #> 7 tirzepatide  2601723 tirzepatide  IN     12.6"},{"path":"http://www.stevenmsmith.org/rxref/articles/case_study_glp1ra.html","id":"getting-product-rxcuis-from-ingredient-rxcuis","dir":"Articles","previous_headings":"","what":"Getting Product RxCUIs from Ingredient RxCUIs","title":"Case Study: GLP1 receptor agonists","text":"Now, let’s look related RxCUIs using product_from_ingredients(). , ’re going just focus TTYs likely NDCs (SCD, SBD, GPCK, BPCK) using function’s default TTY. two default TTY lists: .rxref_default_ttys = “SCD”, “SBD”, “GPCK”, “BPCK” .rxref_extended_ttys = “SCD”, “SBD”, “GPCK”, “BPCK”, “SCDC”, “SBDC”, “SCDF”, “SBDF”, “SCDFP”, “SBDFP”, “SCDG”, “SCDGP”, “BN”, “MIN”, “” , supply set TTYs include instead using two default lists. Lastly, ’re going include combination products (.e., GLP1-RA plus one drugs), using function’s default option include_combo = TRUE.","code":"if (run_live) {   # run this next line only, if recreating on your own   glp1.prods <- products_for_ingredients(glp1.ings$rxcui) } else {   glp1.prods <- readRDS(system.file(\"extdata\", \"glp1_prods.rds\", package = \"rxref\")) }  glp1.prods |> head(30) #> # A tibble: 30 × 5 #>    ingredient_rxcui product_rxcui name                       tty   n_ingredients #>    <chr>            <chr>         <chr>                      <chr>         <int> #>  1 1991302          1991311       0.25 MG, 0.5 MG Dose 1.5 … SBD               1 #>  2 1991302          1991317       1 MG Dose 1.5 ML semaglut… SBD               1 #>  3 1991302          2200650       semaglutide 14 MG Oral Ta… SBD               1 #>  4 1991302          2200654       semaglutide 3 MG Oral Tab… SBD               1 #>  5 1991302          2200658       semaglutide 7 MG Oral Tab… SBD               1 #>  6 1991302          2398842       3 ML semaglutide 1.34 MG/… SBD               1 #>  7 1991302          2553506       0.5 ML semaglutide 0.5 MG… SBD               1 #>  8 1991302          2553603       0.5 ML semaglutide 1 MG/M… SBD               1 #>  9 1991302          2553803       0.5 ML semaglutide 2 MG/M… SBD               1 #> 10 1991302          2553903       0.75 ML semaglutide 2.27 … SBD               1 #> # ℹ 20 more rows"},{"path":"http://www.stevenmsmith.org/rxref/articles/case_study_glp1ra.html","id":"adding-in-ndcs-from-product-rxcuis","dir":"Articles","previous_headings":"","what":"Adding in NDCs from Product RxCUIs","title":"Case Study: GLP1 receptor agonists","text":"Now, let’s identify related NDCs RxCUI. Note RxCUIs link NDCs, NAs likely show resulting file. Voila, now complete list GLP1-RAs can used query prescribing data pharmacy claims data.","code":"if (run_live) {   # run this next line only, if recreating on your own   glp1.ndc.map <- map_rxcui_to_ndc(unique(glp1.prods$product_rxcui)) } else {   glp1.ndc.map <- readRDS(system.file(\"extdata\", \"glp1_ndc_map.rds\", package = \"rxref\")) }  # Join back names/TTYs and de-dupe glp1_ndcs <- glp1.ndc.map |>    dplyr::left_join(glp1.prods, by = c(\"rxcui\" = \"product_rxcui\")) |>    dplyr::distinct(rxcui, ingredient_rxcui, ndc11, name, tty) |>    dplyr::arrange(ingredient_rxcui, rxcui, ndc11, name)  glp1.ndcs <- dplyr::left_join(   x = glp1_ndcs,   y = glp1.ings |> dplyr::select(rxcui, name) |> dplyr::rename(ingredient = name, ingredient_rxcui = rxcui),   by = \"ingredient_rxcui\" )  glp1.ndcs |> head(30) #> # A tibble: 30 × 6 #>    rxcui   ingredient_rxcui ndc11       name                    tty   ingredient #>    <chr>   <chr>            <chr>       <chr>                   <chr> <chr>      #>  1 1803892 1440051          NA          3 ML lixisenatide 0.05… SCD   lixisenat… #>  2 1803893 1440051          NA          3 ML lixisenatide 0.05… SBD   lixisenat… #>  3 1803894 1440051          NA          3 ML lixisenatide 0.1 … SCD   lixisenat… #>  4 1803896 1440051          00024574702 3 ML lixisenatide 0.1 … SBD   lixisenat… #>  5 1803902 1440051          NA          {1 (3 ML lixisenatide … GPCK  lixisenat… #>  6 1803903 1440051          00024574502 {1 (3 ML lixisenatide … BPCK  lixisenat… #>  7 1858995 1440051          NA          3 ML insulin glargine … SCD   lixisenat… #>  8 1859000 1440051          00024576101 3 ML insulin glargine … SBD   lixisenat… #>  9 1859000 1440051          00024576102 3 ML insulin glargine … SBD   lixisenat… #> 10 1859000 1440051          00024576105 3 ML insulin glargine … SBD   lixisenat… #> # ℹ 20 more rows"},{"path":"http://www.stevenmsmith.org/rxref/articles/case_study_glp1ra.html","id":"an-alternate-approach","dir":"Articles","previous_headings":"","what":"An Alternate Approach","title":"Case Study: GLP1 receptor agonists","text":"goal can accomplished one step, prefer, using search_drug() function. Suppose want just get NDCs, want make sure ’re capturing active, well obsolete unspecified NDCs. , don’t actually care RxCUIs don’t corresponding NDC. Compare original table, filtered non-NA ndc11 values:","code":"if (run_live) {   # run this next line only, if recreating on your own   alt.glp1.ndcs <- search_drug(term = glp1.names,                                return = \"ndc\",                                ndc_status = c(\"ACTIVE\", \"OBSOLETE\", \"UNSPECIFIED\")                                ) } else {   alt.glp1.ndcs <- readRDS(system.file(\"extdata\", \"alt_glp1_ndc.rds\", package = \"rxref\")) }  alt.glp1.ndcs1 <-    dplyr::left_join(alt.glp1.ndcs, glp1.prods |> select(-ingredient_rxcui), by = c(\"product_rxcui\" = \"product_rxcui\")) |>    dplyr::distinct(product_rxcui, ingredient_rxcui, ndc11, name, tty) |>    dplyr::arrange(ingredient_rxcui, product_rxcui, ndc11, name) alt.glp1.ndcs2 <- dplyr::left_join(   x = alt.glp1.ndcs1,   y = glp1.ings |> dplyr::select(rxcui, name) |> dplyr::rename(ingredient = name, ingredient_rxcui = rxcui),   by = \"ingredient_rxcui\") alt.glp1.ndcs2  #> # A tibble: 150 × 6 #>    product_rxcui ingredient_rxcui ndc11       name              tty   ingredient #>    <chr>         <chr>            <chr>       <chr>             <chr> <chr>      #>  1 1803896       1440051          00024574702 3 ML lixisenatid… SBD   lixisenat… #>  2 1803903       1440051          00024574502 {1 (3 ML lixisen… BPCK  lixisenat… #>  3 1859000       1440051          00024576101 3 ML insulin gla… SBD   lixisenat… #>  4 1859000       1440051          00024576102 3 ML insulin gla… SBD   lixisenat… #>  5 1859000       1440051          00024576105 3 ML insulin gla… SBD   lixisenat… #>  6 1859000       1440051          00024576302 3 ML insulin gla… SBD   lixisenat… #>  7 1534805       1534763          00173086602 0.5 ML albigluti… SBD   albigluti… #>  8 1551300       1551291          00002143301 0.5 ML dulagluti… SBD   dulagluti… #>  9 1551300       1551291          00002143361 0.5 ML dulagluti… SBD   dulagluti… #> 10 1551300       1551291          00002143380 0.5 ML dulagluti… SBD   dulagluti… #> # ℹ 140 more rows glp1.ndcs |> filter(!is.na(ndc11)) #> # A tibble: 150 × 6 #>    rxcui   ingredient_rxcui ndc11       name                    tty   ingredient #>    <chr>   <chr>            <chr>       <chr>                   <chr> <chr>      #>  1 1803896 1440051          00024574702 3 ML lixisenatide 0.1 … SBD   lixisenat… #>  2 1803903 1440051          00024574502 {1 (3 ML lixisenatide … BPCK  lixisenat… #>  3 1859000 1440051          00024576101 3 ML insulin glargine … SBD   lixisenat… #>  4 1859000 1440051          00024576102 3 ML insulin glargine … SBD   lixisenat… #>  5 1859000 1440051          00024576105 3 ML insulin glargine … SBD   lixisenat… #>  6 1859000 1440051          00024576302 3 ML insulin glargine … SBD   lixisenat… #>  7 1534805 1534763          00173086602 0.5 ML albiglutide 60 … SBD   albigluti… #>  8 1551300 1551291          00002143301 0.5 ML dulaglutide 1.5… SBD   dulagluti… #>  9 1551300 1551291          00002143361 0.5 ML dulaglutide 1.5… SBD   dulagluti… #> 10 1551300 1551291          00002143380 0.5 ML dulaglutide 1.5… SBD   dulagluti… #> # ℹ 140 more rows"},{"path":"http://www.stevenmsmith.org/rxref/articles/rxref_intro.html","id":"resolve-messy-inputs-to-rxcuis","dir":"Articles","previous_headings":"","what":"Resolve messy inputs to RxCUIs","title":"rxref: Getting started","text":"","code":"resolve(c(\"metformin 500 mg tablet\", \"00093-1048-01\", \"8610\"))"},{"path":"http://www.stevenmsmith.org/rxref/articles/rxref_intro.html","id":"properties-for-a-set-of-rxcuis","dir":"Articles","previous_headings":"","what":"Properties for a set of RxCUIs","title":"rxref: Getting started","text":"","code":"ids <- c(\"860975\", \"860976\") get_properties(ids)"},{"path":"http://www.stevenmsmith.org/rxref/articles/rxref_intro.html","id":"map-in-both-directions","dir":"Articles","previous_headings":"","what":"Map in both directions","title":"rxref: Getting started","text":"","code":"# NDC -> RxCUI(s) map_ndc_to_rxcui(c(\"00093-1048-01\", \"00093-1048-10\"))   # RxCUI -> NDCs (optionally filter by ACTIVE) map_rxcui_to_ndc(\"860975\") map_rxcui_to_ndc(\"860975\", status = \"ACTIVE\")"},{"path":"http://www.stevenmsmith.org/rxref/articles/rxref_intro.html","id":"notes","dir":"Articles","previous_headings":"","what":"Notes","title":"rxref: Getting started","text":"Results memoised disk sessions. Use rxref_conf(cache = cachem::cache_mem()) -memory . kind API; increase rxref.rate_delay batching many requests. strict reproducibility, ’ll add SQL backend bound monthly RxNorm releases later version.","code":""},{"path":"http://www.stevenmsmith.org/rxref/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Steven Smith. Author, maintainer.","code":""},{"path":"http://www.stevenmsmith.org/rxref/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Smith S (2025). rxref: Tidy RxNorm Utilities. R package version 0.1.0, https://www.stevenmsmith.org/rxref.","code":"@Manual{,   title = {rxref: Tidy RxNorm Utilities},   author = {Steven Smith},   year = {2025},   note = {R package version 0.1.0},   url = {https://www.stevenmsmith.org/rxref}, }"},{"path":"http://www.stevenmsmith.org/rxref/index.html","id":"rxref","dir":"","previous_headings":"","what":"Tidy Utilities for RxNorm and NDC Resolution","title":"Tidy Utilities for RxNorm and NDC Resolution","text":"rxref R package includes set tidy utilities querying National Library Medicine’s RxNorm API. RxNorm system normalized names clinical drugs well linkages names many drug vocabularies commonly used pharmacy management drug interaction software, including First Databank, Micromedex, Multum, Gold Standard Drug Database. rxref originally built facilitate pharmacoepidemiologic research UF CVmedLab, often need identify medication prescriptions pharmacy dispensings proxy medication exposure outcomes. core use case rxref identifying set RxCUIs (Rx Concept Unique Identifiers) /NDCs (national drug codes) relate single medication set medications (.e., class medications) supplied user. Additional functionality (still early stage development) include extracting additional properties (e.g., strength, dosage form, indications, adverse events, ) related user-supplied list RxCUIs.","code":""},{"path":"http://www.stevenmsmith.org/rxref/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tidy Utilities for RxNorm and NDC Resolution","text":"can install development version rxref GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"ssmithm/rxref\")"},{"path":"http://www.stevenmsmith.org/rxref/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Tidy Utilities for RxNorm and NDC Resolution","text":"basic example querying RxCUIs associated lisinopril (blood pressure-lowering drug):","code":"library(rxref) lisinopril.ing <- find_ingredients('lisinopril') lisinopril.ing |> knitr::kable() lisinopril.rxcuis <- products_for_ingredients(lisinopril.ing$rxcui, ttys = c(\"SCD\", \"SBD\"), include_combos = TRUE)  # Resulting table of all related products with TTY in {SCD, SBD} lisinopril.rxcuis |>    dplyr::mutate(name = paste0(\"`\", name, \"`\")) |>    knitr::kable() # Count of TTYs in resulting table aggregate(   x = list(count = rep(1, nrow(lisinopril.rxcuis))),    by = list(tty = lisinopril.rxcuis$tty),    FUN = sum ) |> knitr::kable()"},{"path":"http://www.stevenmsmith.org/rxref/reference/find_ingredients.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve a free-text drug name to ingredient CUIs (IN/PIN) — find_ingredients","title":"Resolve a free-text drug name to ingredient CUIs (IN/PIN) — find_ingredients","text":"Uses RxNav approximateTerm, fetches properties candidate filters ingredient-type concepts (TTY , optionally, PIN).","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/find_ingredients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve a free-text drug name to ingredient CUIs (IN/PIN) — find_ingredients","text":"","code":"find_ingredients(term, max_entries = 10, include_pin = TRUE)"},{"path":"http://www.stevenmsmith.org/rxref/reference/find_ingredients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve a free-text drug name to ingredient CUIs (IN/PIN) — find_ingredients","text":"term Character vector (free text). max_entries Integer. Max approximate-term candidates per input (default 10). include_pin Logical. Include precise-ingredient (PIN) CUIs (default TRUE).","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/find_ingredients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve a free-text drug name to ingredient CUIs (IN/PIN) — find_ingredients","text":"tibble columns: input, rxcui, name, tty, score.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/find_ingredients.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Resolve a free-text drug name to ingredient CUIs (IN/PIN) — find_ingredients","text":"","code":"if (identical(Sys.getenv(\"RXREF_ONLINE\"), \"1\")) {   find_ingredients(\"metformin\") }"},{"path":"http://www.stevenmsmith.org/rxref/reference/get_clinical_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","title":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","text":"rxcui already clinical drug (TTY = SCD SBD), parse attributes directly name. Otherwise, query /rxcui/{id}/related?tty=SCD,SBD parse.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_clinical_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","text":"","code":"get_clinical_attributes(rxcui)"},{"path":"http://www.stevenmsmith.org/rxref/reference/get_clinical_attributes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","text":"rxcui Character vector RxCUIs","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_clinical_attributes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","text":"tibble columns: rxcui Input RxCUI related_rxcui Clinical drug RxCUI (SCD/SBD) used attributes name Clinical drug name tty Term type (SCD/SBD, etc.) strength Parsed strength string (e.g. \"500 MG\") dose_form Parsed dose form (e.g. \"Extended Release Oral Tablet\") route Route parsed dose form / DFG (e.g. \"ORAL\", \"INJECTION\") dose_form_group Dose form group (DFG), available is_brand Logical; TRUE branded clinical concepts (SBD/BPCK) is_generic Logical; TRUE generic clinical concepts (SCD/GPCK) ingredient_count Number distinct ingredients ingredient_rxcui List-column ingredient RxCUIs ingredient_name List-column ingredient names ingredient_tty List-column ingredient term types (/PIN/MIN) is_multi_ingredient Logical; TRUE >1 ingredient suppress Raw RxNorm suppress flag properties status Simple status derived suppress: \"ACTIVE\" vs \"INACTIVE\"","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_clinical_attributes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","text":"addition strength dose form, returns route, dose-form group (DFG), brand/generic flags, ingredient summaries, simple active/inactive status. Note fair amount parsing RxNorm STR value try extract relevant information (e.g., strength, dose_form), check closely trusting. may edge cases correctly parsed.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_clinical_attributes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clinical attributes from the concept (SCD/SBD) or related SCD/SBD — get_clinical_attributes","text":"","code":"# \\donttest{ get_clinical_attributes(c(\"861007\",\"860975\")) |>   dplyr::select(rxcui, related_rxcui, name, strength, dose_form, route, tty) |>   head() #> # A tibble: 2 × 7 #>   rxcui  related_rxcui name                       strength dose_form route tty   #>   <chr>  <chr>         <chr>                      <chr>    <chr>     <chr> <chr> #> 1 861007 861007        metformin hydrochloride 5… 500 MG   Oral Tab… ORAL  SCD   #> 2 860975 860975        24 HR metformin hydrochlo… 500 MG   Extended… ORAL  SCD   # }"},{"path":"http://www.stevenmsmith.org/rxref/reference/get_properties.html","id":null,"dir":"Reference","previous_headings":"","what":"Get core RxNorm properties for one or more RxCUIs — get_properties","title":"Get core RxNorm properties for one or more RxCUIs — get_properties","text":"Get core RxNorm properties one RxCUIs","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_properties.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get core RxNorm properties for one or more RxCUIs — get_properties","text":"","code":"get_properties(rxcui)"},{"path":"http://www.stevenmsmith.org/rxref/reference/get_properties.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get core RxNorm properties for one or more RxCUIs — get_properties","text":"rxcui Character vector RxCUIs","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_properties.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get core RxNorm properties for one or more RxCUIs — get_properties","text":"tibble rxcui, name, synonym, tty, language, suppress, umlscui.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/get_properties.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get core RxNorm properties for one or more RxCUIs — get_properties","text":"","code":"if (identical(Sys.getenv(\"RXREF_ONLINE\"), \"1\")) { get_properties(c(\"860975\",\"1049630\")) }"},{"path":"http://www.stevenmsmith.org/rxref/reference/map_to.html","id":null,"dir":"Reference","previous_headings":"","what":"Map between NDC and RxCUI in either direction — map_to","title":"Map between NDC and RxCUI in either direction — map_to","text":"Map NDC RxCUI either direction Convenience wrappers","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/map_to.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map between NDC and RxCUI in either direction — map_to","text":"","code":"map_to(x, to = c(\"rxcui\", \"ndc\"), status = NULL)  map_ndc_to_rxcui(x)  map_rxcui_to_ndc(x, status = NULL)"},{"path":"http://www.stevenmsmith.org/rxref/reference/map_to.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map between NDC and RxCUI in either direction — map_to","text":"x Character vector NDCs (10/11-digit hyphenated) RxCUIs. One c(\"rxcui\",\"ndc\") indicating desired output id. status = \"ndc\", filter NDC status (e.g., \"ACTIVE\"). Use NULL .","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/map_to.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map between NDC and RxCUI in either direction — map_to","text":"tibble columns depending direction.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/ndc_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get RxNav status for NDCs — ndc_status","title":"Get RxNav status for NDCs — ndc_status","text":"ndc_status() requests status NDC entry one user-supplied NDC numbers. returned status one \"ACTIVE\", \"OBSOLETE\", \"UNSPECIFIED\". occasion, NULL value may pulled (resulting NA returned tibble), RxNorm status given NDC, invalid NDC supplied.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/ndc_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get RxNav status for NDCs — ndc_status","text":"","code":"ndc_status(ndc)"},{"path":"http://www.stevenmsmith.org/rxref/reference/ndc_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get RxNav status for NDCs — ndc_status","text":"ndc character vector; hyphenated digits","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/ndc_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get RxNav status for NDCs — ndc_status","text":"tibble three columns: ndc_input, ndc11, ndc_hyph, status","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/products_for_ingredients.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand ingredient CUIs to product CUIs that truly contain the ingredient — products_for_ingredients","title":"Expand ingredient CUIs to product CUIs that truly contain the ingredient — products_for_ingredients","text":"Tries multiple RxNav endpoints verifies candidates truly contain queried ingredient (PIN children). Handles cases TTY appears group level. Unions candidates sources.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/products_for_ingredients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand ingredient CUIs to product CUIs that truly contain the ingredient — products_for_ingredients","text":"","code":"products_for_ingredients(   ingredient_rxcui,   ttys = .rxref_default_ttys,   include_combos = TRUE )"},{"path":"http://www.stevenmsmith.org/rxref/reference/products_for_ingredients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand ingredient CUIs to product CUIs that truly contain the ingredient — products_for_ingredients","text":"ingredient_rxcui Character vector ingredient CUIs (TTY PIN). ttys Character vector TTYs include (default: product-facing c(\"SCD\",\"SBD\",\"GPCK\",\"BPCK\")). Pass larger set want groups, components, names, etc. (e.g., c(.rxref_default_ttys, .rxref_extended_ttys)). include_combos Logical; FALSE, keep single-ingredient products (counting distinct ; none present, falls back distinct PIN).","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/products_for_ingredients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expand ingredient CUIs to product CUIs that truly contain the ingredient — products_for_ingredients","text":"Tibble columns: ingredient_rxcui, product_rxcui, name, tty, n_ingredients.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/resolve.html","id":null,"dir":"Reference","previous_headings":"","what":"Resolve free text, RxCUI, or NDC to RxCUI and preferred name — resolve","title":"Resolve free text, RxCUI, or NDC to RxCUI and preferred name — resolve","text":"Vectorized x. free text, uses RxNorm approximateTerm. NDC, uses findRxcuiById. RxCUI, validates returns properties.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/resolve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resolve free text, RxCUI, or NDC to RxCUI and preferred name — resolve","text":"","code":"resolve(x, type = c(\"auto\", \"name\", \"rxcui\", \"ndc\"), max_entries = 1)"},{"path":"http://www.stevenmsmith.org/rxref/reference/resolve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resolve free text, RxCUI, or NDC to RxCUI and preferred name — resolve","text":"x Character vector: drug string, RxCUI, NDC (10/11-digit hyphenated) type One c(\"auto\",\"name\",\"rxcui\",\"ndc\"). Default \"auto\" infers. max_entries Integer, passed approximateTerm name queries.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/resolve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resolve free text, RxCUI, or NDC to RxCUI and preferred name — resolve","text":"tibble columns: input, type, rxcui, name, tty, score (name), ndc11 (ndc input), matched_term (name input)","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/rxref-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rxref: Tidy RxNorm utilities — rxref-package","title":"rxref: Tidy RxNorm utilities — rxref-package","text":"Core exported verbs: resolve(), get_properties(), map_to(). Configure behavior rxref_conf() set_backend().","code":""},{"path":[]},{"path":"http://www.stevenmsmith.org/rxref/reference/rxref-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rxref: Tidy RxNorm utilities — rxref-package","text":"Maintainer: Steven Smith ssmith@cop.ufl.edu","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/rxref_conf.html","id":null,"dir":"Reference","previous_headings":"","what":"Configure rxref — rxref_conf","title":"Configure rxref — rxref_conf","text":"Configure rxref","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/rxref_conf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Configure rxref — rxref_conf","text":"","code":"rxref_conf(   base_url = getOption(\"rxref.base_url\"),   rate_delay = getOption(\"rxref.rate_delay\"),   cache = getOption(\"rxref.cache\") )"},{"path":"http://www.stevenmsmith.org/rxref/reference/rxref_conf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Configure rxref — rxref_conf","text":"base_url Override RxNav base URL (e.g., local mirror) rate_delay Seconds wait HTTP calls cache cachem cache object used memoised calls","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/rxref_conf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Configure rxref — rxref_conf","text":"named list current settings","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/search_drug.html","id":null,"dir":"Reference","previous_headings":"","what":"Search free-text drug name and return product CUIs and/or NDCs — search_drug","title":"Search free-text drug name and return product CUIs and/or NDCs — search_drug","text":"High-level convenience: free text -> ingredient(s) (/PIN) -> verified product CUIs, optionally expand NDCs status filtering.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/search_drug.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search free-text drug name and return product CUIs and/or NDCs — search_drug","text":"","code":"search_drug(   term,   return = c(\"rxcui\", \"ndc\", \"both\"),   ndc_status = NULL,   ttys = .rxref_default_ttys,   ... )"},{"path":"http://www.stevenmsmith.org/rxref/reference/search_drug.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search free-text drug name and return product CUIs and/or NDCs — search_drug","text":"term Character vector; free-text drug names. return One c(\"rxcui\",\"ndc\",\"\"). ndc_status Optional character vector filter NDCs. Options \"ACTIVE\", \"OBSOLETE\", \"UNSPECIFIED\" (API may also return value, appear NA). ttys Character vector TTYs include product search. Defaults .rxref_default_ttys. prespecified option .rxref_extended_ttys character vector explicit TTYs. Run tty_catalogue() review options. ... Passed products_for_ingredients() (e.g., include_combos = FALSE)","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/search_drug.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search free-text drug name and return product CUIs and/or NDCs — search_drug","text":"return=\"rxcui\": tibble products. \"ndc\": tibble NDCs ingredient_rxcui, product_rxcui, ndc11, ndc_status. \"\": list(products=…, ndcs=…).","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/set_backend.html","id":null,"dir":"Reference","previous_headings":"","what":"Select backend (API-only for now) — set_backend","title":"Select backend (API-only for now) — set_backend","text":"Select backend (API-now)","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/set_backend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select backend (API-only for now) — set_backend","text":"","code":"set_backend(backend = c(\"api\"))"},{"path":"http://www.stevenmsmith.org/rxref/reference/set_backend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select backend (API-only for now) — set_backend","text":"backend Character scalar; \"api\" currently supported.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/tty_catalogue.html","id":null,"dir":"Reference","previous_headings":"","what":"Catalogue of RxNorm TTY (Term Types) — tty_catalogue","title":"Catalogue of RxNorm TTY (Term Types) — tty_catalogue","text":"Returns tibble describing common RxNorm TTYs may want use expanding ingredients products. Includes whether TTY typically maps cleanly NDCs whether included package's default extended TTY sets.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/tty_catalogue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Catalogue of RxNorm TTY (Term Types) — tty_catalogue","text":"","code":"tty_catalogue()"},{"path":"http://www.stevenmsmith.org/rxref/reference/tty_catalogue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Catalogue of RxNorm TTY (Term Types) — tty_catalogue","text":"tibble metadata key TTYs.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/tty_catalogue.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Catalogue of RxNorm TTY (Term Types) — tty_catalogue","text":"Columns: tty: RxNorm term type code. label: Short, human-friendly name. description: TTY represents RxNorm. maps_to_ndc: Logical; whether CUIs TTY usually map NDCs via /rxcui/{rxcui}/ndcs. typical_role: ’s commonly used (product, component, group, name). include_default: Logical; included .rxref_default_ttys. include_extended: Logical; included .rxref_extended_ttys.","code":""},{"path":"http://www.stevenmsmith.org/rxref/reference/tty_catalogue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Catalogue of RxNorm TTY (Term Types) — tty_catalogue","text":"","code":"tty_catalogue() #> # A tibble: 14 × 7 #>    tty   label              description maps_to_ndc typical_role include_default #>    <chr> <chr>              <chr>       <lgl>       <chr>        <lgl>           #>  1 SCD   Semantic Clinical… Normalized… TRUE        product      TRUE            #>  2 SBD   Semantic Branded … Normalized… TRUE        product      TRUE            #>  3 GPCK  Generic Pack       Package th… TRUE        pack         TRUE            #>  4 BPCK  Branded Pack       Package th… TRUE        pack         TRUE            #>  5 SCDC  SCD Component      Component … FALSE       component    FALSE           #>  6 SBDC  SBD Component      Component … FALSE       component    FALSE           #>  7 SCDF  SCD + Dose Form    Group of S… FALSE       group        FALSE           #>  8 SBDF  SBD + Dose Form    Group of S… FALSE       group        FALSE           #>  9 SCDFP SCD + DF + Pack    Group of S… FALSE       group        FALSE           #> 10 SBDFP SBD + DF + Pack    Group of S… FALSE       group        FALSE           #> 11 SCDG  SCD Group          Higher-lev… FALSE       group        FALSE           #> 12 SCDGP SCD Group + Pack   Group of S… FALSE       group        FALSE           #> 13 BN    Brand Name         Brand name… FALSE       name         FALSE           #> 14 MIN   Multi-Ingredient … Name conce… FALSE       name         FALSE           #> # ℹ 1 more variable: include_extended <lgl>  # TTYs that map to NDCs subset(tty_catalogue(), maps_to_ndc)$tty #> [1] \"SCD\"  \"SBD\"  \"GPCK\" \"BPCK\"  # See what your defaults and extended sets contain subset(tty_catalogue(), include_default)$tty #> [1] \"SCD\"  \"SBD\"  \"GPCK\" \"BPCK\" subset(tty_catalogue(), include_extended)$tty #>  [1] \"SCD\"   \"SBD\"   \"GPCK\"  \"BPCK\"  \"SCDC\"  \"SBDC\"  \"SCDF\"  \"SBDF\"  \"SCDFP\" #> [10] \"SBDFP\" \"SCDG\"  \"SCDGP\" \"BN\"    \"MIN\"    # Pick a custom set: products + components with(tty_catalogue(),      tty[tty %in% c(\"SCD\",\"SBD\",\"GPCK\",\"BPCK\",\"SCDC\",\"SBDC\")]) #> [1] \"SCD\"  \"SBD\"  \"GPCK\" \"BPCK\" \"SCDC\" \"SBDC\""}]
